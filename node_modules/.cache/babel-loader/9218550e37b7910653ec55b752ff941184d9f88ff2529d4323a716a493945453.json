{"ast":null,"code":"var _jsxFileName = \"C:\\\\drag-drop-builder\\\\src\\\\components\\\\Builder\\\\Canvas.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { motion } from 'framer-motion';\nimport { useBuilder } from '../../context/BuilderContext';\nimport TextElement from '../Elements/TextElement';\nimport ImageElement from '../Elements/ImageElement';\nimport ButtonElement from '../Elements/ButtonElement';\nimport ContainerElement from '../Elements/ContainerElement';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = () => {\n  _s();\n  const {\n    state,\n    addElement,\n    selectElement\n  } = useBuilder();\n  const [{\n    isOver\n  }, drop] = useDrop({\n    accept: ['element', 'existing-element'],\n    drop: (item, monitor) => {\n      const offset = monitor.getClientOffset();\n      const canvasElement = document.querySelector('[data-canvas=\"true\"]');\n      if (!offset || !canvasElement) return;\n      const canvasRect = canvasElement.getBoundingClientRect();\n      const position = {\n        x: offset.x - canvasRect.left,\n        y: offset.y - canvasRect.top\n      };\n      if (item.elementType) {\n        addElement(item.elementType, position);\n      }\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  });\n  const canvasRef = useCallback(node => {\n    drop(node);\n  }, [drop]);\n  const renderElement = element => {\n    const commonProps = {\n      key: element.id,\n      element,\n      isSelected: state.selectedElementId === element.id,\n      onSelect: () => selectElement(element.id)\n    };\n    switch (element.type) {\n      case 'text':\n        return /*#__PURE__*/_jsxDEV(TextElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 16\n        }, this);\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(ImageElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 16\n        }, this);\n      case 'button':\n        return /*#__PURE__*/_jsxDEV(ButtonElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 16\n        }, this);\n      case 'container':\n        return /*#__PURE__*/_jsxDEV(ContainerElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: canvasRef,\n    \"data-canvas\": \"true\",\n    className: `relative bg-white border-2 border-dashed transition-colors duration-200 overflow-hidden ${isOver ? 'border-primary-500 bg-primary-50' : 'border-secondary-200'}`,\n    style: {\n      width: state.canvas.width,\n      height: state.canvas.height,\n      minHeight: '600px'\n    },\n    onClick: () => selectElement(null),\n    children: [isOver && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"absolute inset-0 flex items-center justify-center bg-primary-50 bg-opacity-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-primary-600 text-lg font-medium\",\n        children: \"Drop element here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), Object.values(state.elements).map(renderElement), Object.keys(state.elements).length === 0 && !isOver && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 flex items-center justify-center text-secondary-500\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl mb-2\",\n          children: \"\\uD83C\\uDFA8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-medium mb-2\",\n          children: \"Start Building\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm\",\n          children: \"Drag elements from the palette to begin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(Canvas, \"fRVNhpmmjTgj5m42VldvuO58vR0=\", false, function () {\n  return [useBuilder, useDrop];\n});\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useCallback","useDrop","motion","useBuilder","TextElement","ImageElement","ButtonElement","ContainerElement","jsxDEV","_jsxDEV","Canvas","_s","state","addElement","selectElement","isOver","drop","accept","item","monitor","offset","getClientOffset","canvasElement","document","querySelector","canvasRect","getBoundingClientRect","position","x","left","y","top","elementType","collect","canvasRef","node","renderElement","element","commonProps","key","id","isSelected","selectedElementId","onSelect","type","fileName","_jsxFileName","lineNumber","columnNumber","ref","className","style","width","canvas","height","minHeight","onClick","children","div","initial","opacity","animate","Object","values","elements","map","keys","length","_c","$RefreshReg$"],"sources":["C:/drag-drop-builder/src/components/Builder/Canvas.tsx"],"sourcesContent":["import React, { useRef, useCallback } from 'react';\r\nimport { useDrop } from 'react-dnd';\r\nimport { motion } from 'framer-motion';\r\nimport { useBuilder } from '../../context/BuilderContext';\r\nimport TextElement from '../Elements/TextElement';\r\nimport ImageElement from '../Elements/ImageElement';\r\nimport ButtonElement from '../Elements/ButtonElement';\r\nimport ContainerElement from '../Elements/ContainerElement';\r\n\r\nconst Canvas: React.FC = () => {\r\n  const { state, addElement, selectElement } = useBuilder();\r\n\r\n  const [{ isOver }, drop] = useDrop({\r\n    accept: ['element', 'existing-element'],\r\n    drop: (item: any, monitor) => {\r\n      const offset = monitor.getClientOffset();\r\n      const canvasElement = document.querySelector('[data-canvas=\"true\"]');\r\n      \r\n      if (!offset || !canvasElement) return;\r\n\r\n      const canvasRect = canvasElement.getBoundingClientRect();\r\n      \r\n      const position = {\r\n        x: offset.x - canvasRect.left,\r\n        y: offset.y - canvasRect.top,\r\n      };\r\n\r\n      if (item.elementType) {\r\n        addElement(item.elementType, position);\r\n      }\r\n    },\r\n    collect: (monitor) => ({\r\n      isOver: !!monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  const canvasRef = useCallback((node: HTMLDivElement | null) => {\r\n    drop(node);\r\n  }, [drop]);\r\n\r\n  const renderElement = (element: any) => {\r\n    const commonProps = {\r\n      key: element.id,\r\n      element,\r\n      isSelected: state.selectedElementId === element.id,\r\n      onSelect: () => selectElement(element.id),\r\n    };\r\n\r\n    switch (element.type) {\r\n      case 'text':\r\n        return <TextElement {...commonProps} />;\r\n      case 'image':\r\n        return <ImageElement {...commonProps} />;\r\n      case 'button':\r\n        return <ButtonElement {...commonProps} />;\r\n      case 'container':\r\n        return <ContainerElement {...commonProps} />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={canvasRef}\r\n      data-canvas=\"true\"\r\n      className={`relative bg-white border-2 border-dashed transition-colors duration-200 overflow-hidden ${\r\n        isOver ? 'border-primary-500 bg-primary-50' : 'border-secondary-200'\r\n      }`}\r\n      style={{\r\n        width: state.canvas.width,\r\n        height: state.canvas.height,\r\n        minHeight: '600px',\r\n      }}\r\n      onClick={() => selectElement(null)}\r\n    >\r\n      {isOver && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"absolute inset-0 flex items-center justify-center bg-primary-50 bg-opacity-50\"\r\n        >\r\n          <div className=\"text-primary-600 text-lg font-medium\">\r\n            Drop element here\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n      \r\n      {Object.values(state.elements).map(renderElement)}\r\n      \r\n      {Object.keys(state.elements).length === 0 && !isOver && (\r\n        <div className=\"absolute inset-0 flex items-center justify-center text-secondary-500\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl mb-2\">ðŸŽ¨</div>\r\n            <div className=\"text-lg font-medium mb-2\">Start Building</div>\r\n            <div className=\"text-sm\">Drag elements from the palette to begin</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}