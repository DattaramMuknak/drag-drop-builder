{"ast":null,"code":"var _jsxFileName = \"C:\\\\drag-drop-builder\\\\src\\\\components\\\\Builder\\\\Canvas.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { motion } from 'framer-motion';\nimport { useBuilder } from '../../context/BuilderContext';\nimport TextElement from '../Elements/TextElement';\nimport ImageElement from '../Elements/ImageElement';\nimport ButtonElement from '../Elements/ButtonElement';\nimport ContainerElement from '../Elements/ContainerElement';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = () => {\n  _s();\n  const {\n    state,\n    addElement,\n    selectElement\n  } = useBuilder();\n  const canvasRef = useRef(null);\n  const [{\n    isOver\n  }, drop] = useDrop({\n    accept: ['element', 'existing-element'],\n    drop: (item, monitor) => {\n      if (!canvasRef.current) return;\n      const offset = monitor.getClientOffset();\n      const canvasRect = canvasRef.current.getBoundingClientRect();\n      if (!offset) return;\n      const position = {\n        x: offset.x - canvasRect.left,\n        y: offset.y - canvasRect.top\n      };\n      if (item.elementType) {\n        addElement(item.elementType, position);\n      }\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  });\n  const renderElement = element => {\n    const commonProps = {\n      key: element.id,\n      element,\n      isSelected: state.selectedElementId === element.id,\n      onSelect: () => selectElement(element.id)\n    };\n    switch (element.type) {\n      case 'text':\n        return /*#__PURE__*/_jsxDEV(TextElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 16\n        }, this);\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(ImageElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }, this);\n      case 'button':\n        return /*#__PURE__*/_jsxDEV(ButtonElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 16\n        }, this);\n      case 'container':\n        return /*#__PURE__*/_jsxDEV(ContainerElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: node => {\n      drop(node);\n      canvasRef.current = node;\n    },\n    className: `relative bg-white border-2 border-dashed transition-colors duration-200 overflow-hidden ${isOver ? 'border-primary-500 bg-primary-50' : 'border-secondary-200'}`,\n    style: {\n      width: state.canvas.width,\n      height: state.canvas.height,\n      minHeight: '600px'\n    },\n    onClick: () => selectElement(null),\n    children: [isOver && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"absolute inset-0 flex items-center justify-center bg-primary-50 bg-opacity-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-primary-600 text-lg font-medium\",\n        children: \"Drop element here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), Object.values(state.elements).map(renderElement), Object.keys(state.elements).length === 0 && !isOver && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 flex items-center justify-center text-secondary-500\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl mb-2\",\n          children: \"\\uD83C\\uDFA8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-medium mb-2\",\n          children: \"Start Building\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm\",\n          children: \"Drag elements from the palette to begin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Canvas, \"XbuzyI47jlhtJqfx+6lF+YJZRH8=\", false, function () {\n  return [useBuilder, useDrop];\n});\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useDrop","motion","useBuilder","TextElement","ImageElement","ButtonElement","ContainerElement","jsxDEV","_jsxDEV","Canvas","_s","state","addElement","selectElement","canvasRef","isOver","drop","accept","item","monitor","current","offset","getClientOffset","canvasRect","getBoundingClientRect","position","x","left","y","top","elementType","collect","renderElement","element","commonProps","key","id","isSelected","selectedElementId","onSelect","type","fileName","_jsxFileName","lineNumber","columnNumber","ref","node","className","style","width","canvas","height","minHeight","onClick","children","div","initial","opacity","animate","Object","values","elements","map","keys","length","_c","$RefreshReg$"],"sources":["C:/drag-drop-builder/src/components/Builder/Canvas.tsx"],"sourcesContent":["import React, { useRef } from 'react';\r\nimport { useDrop } from 'react-dnd';\r\nimport { motion } from 'framer-motion';\r\nimport { useBuilder } from '../../context/BuilderContext';\r\nimport TextElement from '../Elements/TextElement';\r\nimport ImageElement from '../Elements/ImageElement';\r\nimport ButtonElement from '../Elements/ButtonElement';\r\nimport ContainerElement from '../Elements/ContainerElement';\r\n\r\nconst Canvas: React.FC = () => {\r\n  const { state, addElement, selectElement } = useBuilder();\r\n  const canvasRef = useRef<HTMLDivElement>(null);\r\n\r\n  const [{ isOver }, drop] = useDrop({\r\n    accept: ['element', 'existing-element'],\r\n    drop: (item: any, monitor) => {\r\n      if (!canvasRef.current) return;\r\n\r\n      const offset = monitor.getClientOffset();\r\n      const canvasRect = canvasRef.current.getBoundingClientRect();\r\n      \r\n      if (!offset) return;\r\n\r\n      const position = {\r\n        x: offset.x - canvasRect.left,\r\n        y: offset.y - canvasRect.top,\r\n      };\r\n\r\n      if (item.elementType) {\r\n        addElement(item.elementType, position);\r\n      }\r\n    },\r\n    collect: (monitor) => ({\r\n      isOver: !!monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  const renderElement = (element: any) => {\r\n    const commonProps = {\r\n      key: element.id,\r\n      element,\r\n      isSelected: state.selectedElementId === element.id,\r\n      onSelect: () => selectElement(element.id),\r\n    };\r\n\r\n    switch (element.type) {\r\n      case 'text':\r\n        return <TextElement {...commonProps} />;\r\n      case 'image':\r\n        return <ImageElement {...commonProps} />;\r\n      case 'button':\r\n        return <ButtonElement {...commonProps} />;\r\n      case 'container':\r\n        return <ContainerElement {...commonProps} />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={(node) => {\r\n        drop(node);\r\n        canvasRef.current = node;\r\n      }}\r\n      className={`relative bg-white border-2 border-dashed transition-colors duration-200 overflow-hidden ${\r\n        isOver ? 'border-primary-500 bg-primary-50' : 'border-secondary-200'\r\n      }`}\r\n      style={{\r\n        width: state.canvas.width,\r\n        height: state.canvas.height,\r\n        minHeight: '600px',\r\n      }}\r\n      onClick={() => selectElement(null)}\r\n    >\r\n      {isOver && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"absolute inset-0 flex items-center justify-center bg-primary-50 bg-opacity-50\"\r\n        >\r\n          <div className=\"text-primary-600 text-lg font-medium\">\r\n            Drop element here\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n      \r\n      {Object.values(state.elements).map(renderElement)}\r\n      \r\n      {Object.keys(state.elements).length === 0 && !isOver && (\r\n        <div className=\"absolute inset-0 flex items-center justify-center text-secondary-500\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl mb-2\">ðŸŽ¨</div>\r\n            <div className=\"text-lg font-medium mb-2\">Start Building</div>\r\n            <div className=\"text-sm\">Drag elements from the palette to begin</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}