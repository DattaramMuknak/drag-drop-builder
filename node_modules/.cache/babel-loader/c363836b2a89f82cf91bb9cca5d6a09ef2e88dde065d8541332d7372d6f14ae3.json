{"ast":null,"code":"var _jsxFileName = \"C:\\\\drag-drop-builder\\\\src\\\\components\\\\Builder\\\\Canvas.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { motion } from 'framer-motion';\nimport { useBuilder } from '../../context/BuilderContext';\nimport TextElement from '../Elements/TextElement';\nimport ImageElement from '../Elements/ImageElement';\nimport ButtonElement from '../Elements/ButtonElement';\nimport ContainerElement from '../Elements/ContainerElement';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = () => {\n  _s();\n  const {\n    state,\n    addElement,\n    selectElement\n  } = useBuilder();\n  const [scale, setScale] = useState(1);\n  const [canvasSize, setCanvasSize] = useState({\n    width: 1200,\n    height: 800\n  });\n\n  // Responsive canvas sizing\n  useEffect(() => {\n    const updateCanvasSize = () => {\n      const containerWidth = window.innerWidth;\n      const containerHeight = window.innerHeight;\n      if (containerWidth < 768) {\n        // Mobile\n        setCanvasSize({\n          width: containerWidth - 32,\n          height: 600\n        });\n        setScale(0.8);\n      } else if (containerWidth < 1024) {\n        // Tablet\n        setCanvasSize({\n          width: 800,\n          height: 600\n        });\n        setScale(0.9);\n      } else {\n        // Desktop\n        setCanvasSize({\n          width: 1200,\n          height: 800\n        });\n        setScale(1);\n      }\n    };\n    updateCanvasSize();\n    window.addEventListener('resize', updateCanvasSize);\n    return () => window.removeEventListener('resize', updateCanvasSize);\n  }, []);\n  const [{\n    isOver\n  }, drop] = useDrop({\n    accept: ['element', 'existing-element'],\n    drop: (item, monitor) => {\n      const offset = monitor.getClientOffset();\n      const canvasElement = document.querySelector('[data-canvas=\"true\"]');\n      if (!offset || !canvasElement) return;\n      const canvasRect = canvasElement.getBoundingClientRect();\n      const position = {\n        x: (offset.x - canvasRect.left) / scale,\n        y: (offset.y - canvasRect.top) / scale\n      };\n      if (item.elementType) {\n        addElement(item.elementType, position);\n      }\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  });\n  const canvasRef = useCallback(node => {\n    drop(node);\n  }, [drop]);\n  const renderElement = element => {\n    const commonProps = {\n      key: element.id,\n      element,\n      isSelected: state.selectedElementId === element.id,\n      onSelect: () => selectElement(element.id),\n      scale\n    };\n    switch (element.type) {\n      case 'text':\n        return /*#__PURE__*/_jsxDEV(TextElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 16\n        }, this);\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(ImageElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 16\n        }, this);\n      case 'button':\n        return /*#__PURE__*/_jsxDEV(ButtonElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 16\n        }, this);\n      case 'container':\n        return /*#__PURE__*/_jsxDEV(ContainerElement, {\n          ...commonProps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-start\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: canvasRef,\n      \"data-canvas\": \"true\",\n      className: `relative bg-white border-2 border-dashed transition-all duration-200 overflow-hidden rounded-lg ${isOver ? 'border-primary-500 bg-primary-50' : 'border-secondary-200'}`,\n      style: {\n        width: canvasSize.width,\n        height: canvasSize.height,\n        transform: `scale(${scale})`,\n        transformOrigin: 'top center'\n      },\n      onClick: () => selectElement(null),\n      children: [isOver && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        className: \"absolute inset-0 flex items-center justify-center bg-primary-50 bg-opacity-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-primary-600 text-lg font-medium\",\n          children: \"Drop element here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), Object.values(state.elements).map(renderElement), Object.keys(state.elements).length === 0 && !isOver && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex items-center justify-center text-secondary-500\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl mb-2\",\n            children: \"\\uD83C\\uDFA8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-medium mb-2\",\n            children: \"Start Building\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm px-4\",\n            children: window.innerWidth < 768 ? 'Switch to Elements tab to add components' : 'Drag elements from the palette to begin'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(Canvas, \"ur4ICZWGWtOAOQL6E4SrqkPk228=\", false, function () {\n  return [useBuilder, useDrop];\n});\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","useDrop","motion","useBuilder","TextElement","ImageElement","ButtonElement","ContainerElement","jsxDEV","_jsxDEV","Canvas","_s","state","addElement","selectElement","scale","setScale","canvasSize","setCanvasSize","width","height","updateCanvasSize","containerWidth","window","innerWidth","containerHeight","innerHeight","addEventListener","removeEventListener","isOver","drop","accept","item","monitor","offset","getClientOffset","canvasElement","document","querySelector","canvasRect","getBoundingClientRect","position","x","left","y","top","elementType","collect","canvasRef","node","renderElement","element","commonProps","key","id","isSelected","selectedElementId","onSelect","type","fileName","_jsxFileName","lineNumber","columnNumber","className","children","ref","style","transform","transformOrigin","onClick","div","initial","opacity","animate","Object","values","elements","map","keys","length","_c","$RefreshReg$"],"sources":["C:/drag-drop-builder/src/components/Builder/Canvas.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useDrop } from 'react-dnd';\r\nimport { motion } from 'framer-motion';\r\nimport { useBuilder } from '../../context/BuilderContext';\r\nimport TextElement from '../Elements/TextElement';\r\nimport ImageElement from '../Elements/ImageElement';\r\nimport ButtonElement from '../Elements/ButtonElement';\r\nimport ContainerElement from '../Elements/ContainerElement';\r\n\r\nconst Canvas: React.FC = () => {\r\n  const { state, addElement, selectElement } = useBuilder();\r\n  const [scale, setScale] = useState(1);\r\n  const [canvasSize, setCanvasSize] = useState({ width: 1200, height: 800 });\r\n\r\n  // Responsive canvas sizing\r\n  useEffect(() => {\r\n    const updateCanvasSize = () => {\r\n      const containerWidth = window.innerWidth;\r\n      const containerHeight = window.innerHeight;\r\n      \r\n      if (containerWidth < 768) { // Mobile\r\n        setCanvasSize({ width: containerWidth - 32, height: 600 });\r\n        setScale(0.8);\r\n      } else if (containerWidth < 1024) { // Tablet\r\n        setCanvasSize({ width: 800, height: 600 });\r\n        setScale(0.9);\r\n      } else { // Desktop\r\n        setCanvasSize({ width: 1200, height: 800 });\r\n        setScale(1);\r\n      }\r\n    };\r\n\r\n    updateCanvasSize();\r\n    window.addEventListener('resize', updateCanvasSize);\r\n    \r\n    return () => window.removeEventListener('resize', updateCanvasSize);\r\n  }, []);\r\n\r\n  const [{ isOver }, drop] = useDrop({\r\n    accept: ['element', 'existing-element'],\r\n    drop: (item: any, monitor) => {\r\n      const offset = monitor.getClientOffset();\r\n      const canvasElement = document.querySelector('[data-canvas=\"true\"]');\r\n      \r\n      if (!offset || !canvasElement) return;\r\n\r\n      const canvasRect = canvasElement.getBoundingClientRect();\r\n      \r\n      const position = {\r\n        x: (offset.x - canvasRect.left) / scale,\r\n        y: (offset.y - canvasRect.top) / scale,\r\n      };\r\n\r\n      if (item.elementType) {\r\n        addElement(item.elementType, position);\r\n      }\r\n    },\r\n    collect: (monitor) => ({\r\n      isOver: !!monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  const canvasRef = useCallback((node: HTMLDivElement | null) => {\r\n    drop(node);\r\n  }, [drop]);\r\n\r\n  const renderElement = (element: any) => {\r\n    const commonProps = {\r\n      key: element.id,\r\n      element,\r\n      isSelected: state.selectedElementId === element.id,\r\n      onSelect: () => selectElement(element.id),\r\n      scale,\r\n    };\r\n\r\n    switch (element.type) {\r\n      case 'text':\r\n        return <TextElement {...commonProps} />;\r\n      case 'image':\r\n        return <ImageElement {...commonProps} />;\r\n      case 'button':\r\n        return <ButtonElement {...commonProps} />;\r\n      case 'container':\r\n        return <ContainerElement {...commonProps} />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-start\">\r\n      <div\r\n        ref={canvasRef}\r\n        data-canvas=\"true\"\r\n        className={`relative bg-white border-2 border-dashed transition-all duration-200 overflow-hidden rounded-lg ${\r\n          isOver ? 'border-primary-500 bg-primary-50' : 'border-secondary-200'\r\n        }`}\r\n        style={{\r\n          width: canvasSize.width,\r\n          height: canvasSize.height,\r\n          transform: `scale(${scale})`,\r\n          transformOrigin: 'top center',\r\n        }}\r\n        onClick={() => selectElement(null)}\r\n      >\r\n        {isOver && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            className=\"absolute inset-0 flex items-center justify-center bg-primary-50 bg-opacity-50\"\r\n          >\r\n            <div className=\"text-primary-600 text-lg font-medium\">\r\n              Drop element here\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n        \r\n        {Object.values(state.elements).map(renderElement)}\r\n        \r\n        {Object.keys(state.elements).length === 0 && !isOver && (\r\n          <div className=\"absolute inset-0 flex items-center justify-center text-secondary-500\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl mb-2\">🎨</div>\r\n              <div className=\"text-lg font-medium mb-2\">Start Building</div>\r\n              <div className=\"text-sm px-4\">\r\n                {window.innerWidth < 768 \r\n                  ? 'Switch to Elements tab to add components'\r\n                  : 'Drag elements from the palette to begin'\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}